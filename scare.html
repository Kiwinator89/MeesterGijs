<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Virus Effect</title>

<style>
/* --- BASISSTIJLEN --- */
body {
  background: black;
  color: white;
  text-align: center;
  font-family: Arial, sans-serif;
  overflow: hidden;
  margin: 0;
  padding: 0;
  transition: background 0.2s;
}

#man {
  width: 80%;
  max-width: 300px;
  margin-top: 40px;
  animation: subtleZoom 5s infinite alternate;
}

@keyframes subtleZoom {
  from { transform: scale(1); }
  to { transform: scale(1.05); }
}

#text {
  font-size: 5vw; /* past zich aan schermbreedte aan */
  margin-top: 2vh;
  position: relative;
}

/* --- GLITCH EFFECT --- */
.glitch {
  animation: glitch 0.15s infinite;
}

@keyframes glitch {
  0% { transform: translate(0); }
  20% { transform: translate(-5px, 5px) skew(1deg, 1deg); }
  40% { transform: translate(5px, -5px) skew(-1deg, -1deg); }
  60% { transform: translate(-3px, 3px) skew(1deg, -1deg); }
  80% { transform: translate(3px, -3px) skew(-1deg, 1deg); }
  100% { transform: translate(0); }
}

/* --- SCREEN SHAKE --- */
@keyframes shake {
  0% { transform: translate(0, 0); }
  25% { transform: translate(-10px, 10px); }
  50% { transform: translate(10px, -10px); }
  75% { transform: translate(-10px, 10px); }
  100% { transform: translate(0, 0); }
}

/* --- RODE SCHERM FLITS --- */
.flash-red {
  position: fixed;
  inset: 0;
  background: rgba(100,0,0,0.9); /* zeer donker rood */
  z-index: 999;
  display: none;
}
</style>
</head>

<body>

<img id="man" src="images/man.png" alt="Man">

<div id="text">
  Deze man is <span id="distance">4000</span> kilometer van u verwijderd.
</div>

<div id="flash" class="flash-red"></div>

<audio id="scream" src="audio/scream.mp3"></audio>
<audio id="glitchSound" src="audio/glitch.mp3"></audio>

<script>
let distance = 4000;
const distanceEl = document.getElementById("distance");
const textEl = document.getElementById("text");
const manImg = document.getElementById("man");
const body = document.body;
const scream = document.getElementById("scream");
const glitchSound = document.getElementById("glitchSound");
const flash = document.getElementById("flash");

// alleen jouw berichten
const messages = [
  "DE GIJZELER KOMT JE HALEN!",
  "DIT IS ZEER ONGEPAST!",
  "JE HAD NOOIT MOETEN PRANKCALLEN!",
  "МАСТЕР GIJS ПРИБЛИЖАЕТСЯ!!!",
  "В стенах плесень, они идут тебя забрать!!!"
];

// Vloeiend: 60 updates per seconde
const fps = 60;
const speedPerInterval = 20 / fps; // 20 km/s verdeeld over 60 updates

const countdown = setInterval(() => {
  distance -= speedPerInterval;
  if (distance < 0) distance = 0;
  distanceEl.textContent = Math.floor(distance);

  // zeldzame glitch (5%)
  if (Math.random() < 0.05) {
    textEl.classList.add("glitch");
    textEl.innerHTML = messages[Math.floor(Math.random() * messages.length)];

    glitchSound.currentTime = 0;
    glitchSound.play();

    body.style.animation = "shake 0.2s";

    setTimeout(() => {
      textEl.classList.remove("glitch");
      body.style.animation = "";
      textEl.innerHTML = `Deze man is <span id="distance">${Math.floor(distance)}</span> kilometer van u verwijderd.`;
    }, 400);
  }

  // willekeurige donkere rode flits (2% kans)
  if (Math.random() < 0.02) {
    flash.style.display = "block";
    setTimeout(() => { flash.style.display = "none"; }, 100);
  }

  // trigger jumpscare
  if (distance <= 0) {
    clearInterval(countdown);
    scream.play();
    manImg.src = "/images/jumpscare.png"; // vervang afbeelding
    // extra chaos bij 0 km
    const chaosInterval = setInterval(() => {
      textEl.style.transform = `translate(${Math.random()*20-10}px, ${Math.random()*20-10}px) rotate(${Math.random()*20-10}deg)`;
      if (Math.random() < 0.05) {
        textEl.innerHTML = messages[Math.floor(Math.random() * messages.length)];
      }
      // extra flitsen
      if (Math.random() < 0.05) {
        flash.style.display = "block";
        setTimeout(() => { flash.style.display = "none"; }, 100);
      }
    }, 50);
  }

}, 1000 / fps);
</script>

</body>
</html>


